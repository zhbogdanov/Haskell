# GameOfLife

1. Постановка задачи 

Игра «Жизнь» — это клеточный автомат, придуманный английским математиком Джоном Конвеем в 1970 году.

Игра происходит во вселенной — плоскости или поверхности, разбитой на клетки. Каждая клетка в каждый момент времени может находиться в одном из двух состояний: быть «живой» или «мёртвой» (пустой). У каждой клетки есть соседи, определяемые окрестностью Мура.

Время в игре разбито на шаги, за каждый шаг все клетки одновременно обновляют своё состояние по следующим правилам:

в пустой (мёртвой) клетке зарождается жизнь, если рядом находится ровно 3 живые клетки;
если у живой клетки ровно 2 или 3 живых соседа, она остаётся жить; иначе она умирает (от одиночества или перенаселённости).
Игрок не принимает прямого участия в игре, а лишь расставляет или генерирует начальную конфигурацию живых клеток, которые затем взаимодействуют согласно правилам уже без его участия (он является наблюдателем).

1.1 Базовые требования 

Базовая реализация проекта содержит:

- визуализацию и моделирование (отрисовку) заданной сцены;
- загрузку начального состояния сцены из файла.

1.2 Индивидуальные части

Дополнения индивидуальной части содержат:

- базу данных (при запуске в командной строке игрок указывает свое имя и файл, в который стоит записать его результат. Результатом является сцена после выполнения программы)
- поддержку интерактивного меню, в котором можно ознакомиться со всеми файлами в базе данных и выбрать символы для обозначения живых и мертвых клеток

2. Модули проекта 

- Types.hs - основные типы 
- CheckData.hs - функции проверки корректности входных данных 
- GameRules.hs - основные правила игры "Жизнь"
- Menu.hs - реализация пользовательского "интерфейса"
- WorkFile.hs - функции для работы с файлами 

-- В модуле Types.hs описаны следующие типы:

- Epoch - количество эпох, прошедших с начала до конца игры 
- Point - координаты точек на игровой доске
- Alive - жива клетка или мертва
- Cell - состояние клетки (жива ли и ее координаты)
- Board - игровая доска, состоящая из клеток 

-- В модуле Menu.hs описаны функции для взаимодействия с интеркативным меню 

- showFile - функция отображения содержимого выбранного файла 
- showFiles - функция отображения списка файлов из директории "LeaderBoard"
- chooseOption - функция выбора опции (показать файлы или начать игру)
- putMenu - функция отображения списка доступных пользователю функций
- loop - функция выбора символов для живых и мертвых клеток

-- В модуле CheckData.hs - функции проверки корректности входных данных

- isCurrentSymbol - функция, проверяющая корректен ли символ 
- checkSymbols - функция, проверяющая на корректность все символы файла 
- allTheSame - функция, проверяющая на равенство все элементы списка 
- eqData - функция, строящая список из длин каждой строки входного файла 
- isEqCell - функция, проверяющая на равенство элементы доски 
- isEqBoard - функция, проверяющая на равенство доски 

-- В модуле WorkFile.hs - функции для работы с файлами

- representation - функция, возвращающая символ живой или мертвой клетки 
- putCellToFile - функция, записывающая в файл клетку
- writeToFile - функция записи всей доски в файл 

-- В модуле GameRules.hs функции главных правил игры 

- directions - точки, покрывающие всех соседей конкретной клетки 
- liveOrDie - функция, считывающая из файла состояния клеток 
- makeRow - функция, создающая строку доски из клеток 
- readData - функция, создающая доску из строк 
- getCell - функция получения состояния клетки (если таковая имеется) по ее координатам
- isAlive - функция определения состояния клетки 
- aliveNeighbours - функция определения количества живых соседей 
- nextCellState - функция построения следующего состояния клетки 
- makeCell - функция построения клетки по характеристикам 
- nextState - функция определения следующего состояния клетки 
- putPell - функция отображения клетки
- drawBoard1 - исходная функция для вывода доски
- drawBoard - функция проверки на окончание работы 

3. Используемые библиотеки 

- System.Console.ANSI - поддержка различных цветов в выводе терминала 
- System.IO - работа с файлами, вывод информации на экран
- System.Environment - получение аргуметов командной строки 
- Data.Bifunctor - применение map одновременно к двум аргументам 
- Control.Concurrent - для threadDelay
- Data.Maybe - для работы с типом Maybe
- System.Directory - получение списка файлов из директории 
- Data.List - работа со списками 
- GHC.IO.Handle - отключение буфферизации нажимаемых клавиш 

4. Сценарии работы с приложением 

-- Запуск приложения происходит из командной строки с помощью следующей команды:

- stack build && stack exec GameOfLife-exe <Значение задержки> <Имя игрока> <Имя файла в который нужно сохранить результат>.txt <Файл из которого читается карта>.txt

-- Навигация по меню происходит с помощью стрелок "вверх" "вниз", для выбора подсвеченой области необходимо нажать на "пробел", для выхода из программы/просмотра списка файлов/просмотра файлов необходимо нажать на "q", все остальные нажатия игнорируются. 

